<!DOCTYPE html>
<html class="no-js" lang="es">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>La escala natural de la varianza - datanalytics</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="La escala natural de la varianza" />
<meta property="og:description" content="Supongo que lo que voy a contar hoy es conocido de muchos de mis lectores. Desafortunadamente, uno tropieza con más frecuencia de lo deseable con quienes no lo son. (Eso sí, uno de los mayores placeres de esta vida es coincidir con alguien que te reconoce y te dice: &ldquo;¿tú tienes un blog que se llama datanalytics, ¿verdad?&quot;; pero esa es otra historia).
Al grano.
Supongamos que tenemos un sistema con sensores que miden la temperatura (5) y la presión (2) en diversos puntos." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/2014/04/09/la-escala-natural-de-la-varianza/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-04-09T07:43:12&#43;00:00" />
<meta property="article:modified_time" content="2014-04-09T07:43:12&#43;00:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alegreya:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="datanalytics" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">datanalytics</div>
					<div class="logo__tagline">Estadística y análisis de datos</div>
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">La escala natural de la varianza</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2014-04-09T07:43:12Z">2014-4-9</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/estad%C3%ADstica/" rel="category">estadística</a>
	</span>
</div></div>
		</header>
		<div class="content post__content clearfix">
			<p>Supongo que lo que voy a contar hoy es conocido de muchos de mis lectores. Desafortunadamente, uno tropieza con más frecuencia de lo deseable con quienes no lo son. (Eso sí, uno de los mayores placeres de esta vida es coincidir con alguien que te reconoce y te dice: &ldquo;¿tú tienes un blog que se llama datanalytics, ¿verdad?&quot;; pero esa es otra historia).</p>
<p>Al grano.</p>
<p>Supongamos que tenemos un sistema con sensores que miden la temperatura (5) y la presión (2) en diversos puntos. Los dejamos recoger datos durante 100 periodos y obtenemos</p>
<pre><code>&lt;a href=&quot;http://inside-r.org/r-doc/base/set.seed&quot;&gt;set.seed(1234)

n &lt;- 100

n.temp &lt;- 5
n.pres &lt;- 2

temp.global &lt;- rnorm(n)
pres.global &lt;- rnorm(n)

temp &lt;- 0.2 * matrix(rnorm(n*n.temp), n, n.temp) + temp.global
pres &lt;- 0.2 * matrix(rnorm(n*n.pres), n, n.pres) + pres.global

dat &lt;- cbind(temp, pres)

dim(dat)
# [1] 100   7

&lt;a href=&quot;http://inside-r.org/r-doc/utils/head&quot;&gt;head(dat)

# [,1]       [,2]       [,3]        [,4]       [,5]        [,6]        [,7]
# [1,] -1.1100204 -1.3230571 -1.4524288 -1.01010976 -1.1443700  0.50550395  0.20973698
# [2,]  0.4167830  0.0867735  0.2846598  0.03248167  0.3999239 -0.18963434 -0.75224859
# [3,]  1.1215440  1.0485555  1.0001626  1.22638642  0.7462245  0.02419526  0.05614927
# [4,] -2.2055510 -2.1437361 -2.5255706 -2.36754170 -2.1887580 -0.74875834 -0.14028564
# [5,]  0.4914609  0.4338500  0.5126130  0.78564627  0.4315097 -0.89811930 -0.84590060
# [6,]  0.6581484  0.3762502  0.5367448  0.45736696  0.4698048  0.05754662  0.32243670
</code></pre>
<p>Las primeras cinco columnas de esta tabla de datos simulados recogen la temperatura global del sistema más una señal propia de cada sensor (según su ubicación). Las dos últimas, la presión con la misma salvedad.</p>
<p>Ahora llega un señor importante, de los de corbata, uno de esos devoradores de articulillos del subgénero del márqueting ficción, y nos pide que <em>hagamos big data</em>.</p>
<p>Y a nosotros se nos ocurre reducir la dimensionalidad del problema usando componentes principales (PCA) así:</p>
<pre><code>dat.pca &lt;- &lt;a href=&quot;http://inside-r.org/r-doc/stats/princomp&quot;&gt;princomp(dat)
</code></pre>
<p>Las dos primeras componentes principales tienen casi toda la varianza (como cabía esperar en nuestros datos artificiales):</p>
<pre><code>&lt;a href=&quot;http://inside-r.org/r-doc/stats/screeplot&quot;&gt;screeplot(dat.pca)
</code></pre>
<p><a href="http://www.datanalytics.com/wp-uploads/2014/04/screeplot_temp_pres.png"><img src="http://www.datanalytics.com/wp-uploads/2014/04/screeplot_temp_pres.png" alt="screeplot_temp_pres">
</a></p>
<p>Como puede verse haciendo</p>
<pre><code>&lt;a href=&quot;http://inside-r.org/r-doc/stats/loadings&quot;&gt;loadings(dat.pca)

# Loadings:
#   Comp.1 Comp.2 Comp.3 Comp.4 Comp.5 Comp.6 Comp.7
# [1,] -0.449               -0.247  0.804 -0.157 -0.245
# [2,] -0.456         0.418  0.394        -0.107  0.665
# [3,] -0.435        -0.825  0.111 -0.185  0.197  0.210
# [4,] -0.453         0.362 -0.229 -0.231  0.701 -0.258
# [5,] -0.443                      -0.486 -0.639 -0.389
# [6,]        -0.721        -0.592 -0.111 -0.106  0.324
# [7,]        -0.692         0.606         0.117 -0.360
</code></pre>
<p>la primera componente es una combinación lineal de (esencialmente, ¡no exclusivamente¡) las primeras cinco columnas (relacionadas con la temperatura) y la segunda, de las dos restantes (relacionadas con la presión).</p>
<p>Y todo esto ha sido el preámbulo de la pregunta que justifica la entrada de hoy: ¿qué tiene de superimportante la primera componente con respecto a la segunda?</p>
<p>En los libros se nos enseña que las componentes principales tienen importancia decreciente. La primera es la más guay, etc. Las últimas pueden desdeñarse. También se nos enseña que es recomendable estandarizar las variables para evitar, precisamente, que alguna de ellas domine al resto y pese demasiado en la primera componente principal (o que se identifique con ella en casos extremos).</p>
<p>Pero este es un caso que la literatura —al menos, la literatura que leen algunos a quienes podría señalar con el dedo— no plantea.</p>
<p>En este caso artificial, el peso de la primera componente no tiene causas intrínsecas. Se debe, simplemente, a que hay cinco sensores que miden la temperatura y solo dos que miden la presión. Si hubiese tres y tres —lo dejo planteado como ejercicio— las dos primeras componentes principales serían equivalentes.</p>
<p>Esto puede ser y no ser grave. De eso hablaré en los próximos días. Depende de qué se quiera hacer después con esas componentes.</p>
<p>Pero sí quiero dejar clara una cosa: en situaciones reales, en bases de datos grandes, con muchas columnas, la importancia relativa de las componentes principales puede decir tanto sobre la estructura matemática de los datos como, quizás, de algo mucho menos enjundioso: el número de variables que en la base de datos recogen cada uno de los, si se me permite, factores subyacentes (es decir, los equivalentes a la temperatura y la presión en nuestro ejemplo).</p>
<p>Y bueno, para terminar, un poco de erudición para quien quiera ahondar más en el asunto: <a href="http://factominer.free.fr/advanced-methods/multiple-factor-analysis.html">MFA</a>.</p>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/componentes-principales/" rel="tag">componentes principales</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/estad%C3%ADstica/" rel="tag">estadística</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/mfa/" rel="tag">mfa</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/pca/" rel="tag">pca</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/2014/04/08/v-jornadas-de-la-ensenanza-y-aprendizaje-de-la-estadistica-y-la-investigacion-operativa/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Anterior</span>
			<p class="pager__title">V Jornadas de la Enseñanza y Aprendizaje de la Estadística y la Investigación Operativa</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/2014/04/10/colusion-de-anunciantes-en-perjuicio-de-navegantes/" rel="next">
			<span class="pager__subtitle">Siguiente&thinsp;»</span>
			<p class="pager__title">Colusión de anunciantes en perjuicio de navegantes</p>
		</a>
	</div>
</nav>


			</div>
			<aside class="sidebar">
<div class="widget-recent widget">
	<h4 class="widget__title">Más Recientes</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/2021/12/09/mas-sobre-exceso-mortalidad-noviembre-2021/">Sobre el exceso de mortalidad en noviembre de 2021</a></li>
			<li class="widget__item"><a class="widget__link" href="/2021/12/09/mas-sobre-la-estimacion-de-probabilidades-de-eventos-que-no-se-repiten/">Más sobre la estimación de probabilidades de eventos que no se repiten</a></li>
			<li class="widget__item"><a class="widget__link" href="/2021/12/07/estadistica-vs-siquiatria-la-aparente-contradiccion-la-profunda-sintesis/">Estadística vs siquiatría: la aparente contradicción, la profunda síntesis</a></li>
			<li class="widget__item"><a class="widget__link" href="/2021/12/02/por-que-cabe-argumentar-que-estos-resultados-infraestiman-la-efectividad-de-las-vacunas-contra-el-covid/">¿Por qué cabe argumentar que estos resultados infraestiman la efectividad de las vacunas contra el covid?</a></li>
			<li class="widget__item"><a class="widget__link" href="/2021/11/25/un-episodio-relevante-para-estas-paginas-extraido-de-un-espia-perfecto/">Un episodio relevante para estas páginas extraído de &#34;Un espía perfecto&#34;</a></li>
		</ul>
	</div>
</div>
</aside>
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2021 datanalytics.
      
		</div>
	</div>
</footer>

	</div>
<script async defer src="/js/menu.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({ tex2jax: {inlineMath: [["$","$"], ["$latex", "$"],["\\(","\\)"]]} })
</script>

</body>
</html>