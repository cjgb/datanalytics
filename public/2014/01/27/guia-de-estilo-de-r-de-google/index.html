<!DOCTYPE html>
<html class="no-js" lang="es">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Guía de estilo de R (de Google) - datanalytics</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Guía de estilo de R (de Google)" />
<meta property="og:description" content="R es un lenguaje de programación de alto nivel que se usa principalmente en aplicaciones estadísticas y para la generación de gráficos. El objetivo de esta guía de estilo es que nuestro código sea más fácil de leer, compartir y analizar. Las reglas de esta guía fueron consensuadas con la comunidad de usuarios de R en Google.
 * **Resumen de las reglas de estilo** 1. Nombres de ficheros: tienen la extensión `." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/2014/01/27/guia-de-estilo-de-r-de-google/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-01-27T08:21:42&#43;00:00" />
<meta property="article:modified_time" content="2014-01-27T08:21:42&#43;00:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alegreya:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="datanalytics" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">datanalytics</div>
					<div class="logo__tagline">Estadística y análisis de datos</div>
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Guía de estilo de R (de Google)</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2014-01-27T08:21:42Z">2014-1-27</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/r/" rel="category">r</a>
	</span>
</div></div>
		</header>
		<div class="content post__content clearfix">
			<p>R es un lenguaje de programación de alto nivel que se usa principalmente en aplicaciones estadísticas y para la generación de gráficos.
El objetivo de esta guía de estilo es que nuestro código sea más fácil de leer, compartir y analizar.
Las reglas de esta guía fueron consensuadas con la comunidad de usuarios de R en Google.</p>
<pre><code>  * **Resumen de las reglas de estilo**

    1. Nombres de ficheros: tienen la extensión `.R`
    2. Identificacores: `variable.name`, `FunctionName`, `kConstantName`
    3. Longitud de línea: no más de 80 caracteres
    4. Indentación: dos espacios, no tabuladores
    5. Espacios
    6. Llaves: el primero en la misma línea; el último, solo
    7. Asignaciones: usar `&lt;-`, no `=`
    8. Puntos y comas: no usarlos
    9. Distribución general y ordenación
    10. Comentarios: todos los comentarios comienzan con `#` seguido de un espacio; los comentarios dentro del código necesitan dos espacios delante de `#`
    11. Definiciones y llamadas a funciones
    12. Documentación de funciones
    13. Ejemplo de función
    14. Estilo para los TODO: `TODO(username)`


  * **Resumen de las reglas de programación**

    1. `attach`: tratar de evitarlo
    2. Funciones:
</code></pre>
<p>utilizar <code>stop()</code> para generar mensajes de error
3. Objetos y métodos: tratar de evitar el uso de objetos S4; no mezclar nunca S3 y S4</p>
<pre><code>  1. **Nomenclatura**

    *
</code></pre>
<p>**Nombres de ficheros. **Los nombres de ficheros deben tener la extensión <code>.R</code> y, por supuesto, ser significativos.</p>
<p>BIEN: <code>predict_ad_revenue.R</code>
MAL: <code>foo.R</code>
*</p>
<p>**Identificadores. **No usar guiones bajos ( <code>_</code> ) o guiones ( <code>-</code> ) en los identificadores.</p>
<p>Los identificadores deben asignarse de acuerdo con los siguientes criterios:
Los nombres de variables deben ser palabras y letras en minúscula separadas por puntos (<code>.</code>);
los nombres de funciones deben ser palabras con su primera letra en mayúsculas y, las demás, en minúsculas y no se usarán puntos para separarlas (ejemplo: CapWords);
para las constantes se seguirá la misma convención que para las funciones aunque se utilizará el prefijo <code>k</code>.</p>
<pre><code>      * `variable.name `BIEN: `avg.clicks`
</code></pre>
<p>MAL: <code>avg_Clicks </code>, <code>avgClicks </code>
* <code>FunctionName </code>BIEN: <code>CalculateAvgClicks</code></p>
<p>MAL: <code>calculate_avg_clicks </code>, <code>calculateAvgClicks</code></p>
<p>Usa verbos como nombres de funciones.</p>
<p><em>Excepción: al trabajar con objetos, el nombre de la función (constructor) y la clase deben coincidir (p.e., lm).</em>
* <code>kConstantName </code></p>
<pre><code>  2. **Sintaxis**

    *
</code></pre>
<p>**Longitud de línea. **No más de 80 caracteres.</p>
<pre><code>    *
</code></pre>
<p>**Indentación. **Usar dos espacios para indentar. Nunca mezclar espacios y tabuladores.</p>
<p><em>Excepción: cuando la línea se corte dentro de unos paréntesis, hay que alinear la línea seguiente con el primer caracter dentro del los paréntesis.</em>
*</p>
<p>**Espaciado **Usar espacios alrededor de todos los operadores binarios (<code>=</code>, <code>+</code>, <code>-</code>, <code>&lt;-</code>, etc.).</p>
<p>_ Excepción: los espacios alrededor de <code>=</code> son opcionales en las llamadas a una función._</p>
<p>Usar espacios siempre después de las comas, pero nunca antes de ellas.</p>
<p>BIEN:</p>
<pre><code>&lt;code&gt;tabPrior &lt;- table(df[df$daysFromOpt &lt; 0, &quot;campaignid&quot;])
total &lt;- sum(x[, 1])
total &lt;- sum(x[1, ])&lt;/code&gt;
</code></pre>
<p>MAL:</p>
<pre><code>&lt;code&gt;&lt;span style=&quot;color: red;&quot;&gt;tabPrior &lt;- table(df[df$daysFromOpt&lt;0, &quot;campaignid&quot;])  # Necesita espacios alrededor de '&lt;'

tabPrior &lt;- table(df[df$daysFromOpt &lt; 0,&quot;campaignid&quot;])  # Necesita un espacio tras la coma

tabPrior&lt;- table(df[df$daysFromOpt &lt; 0, &quot;campaignid&quot;])  # Necesita un espacio antes de &lt;-

tabPrior&lt;-table(df[df$daysFromOpt &lt; 0, &quot;campaignid&quot;])  # Necesita espacios alrededor de &lt;-

total &lt;- sum(x[,1])  # Necesita espacio después de la coma

total &lt;- sum(x[ ,1])  # Necesita un espacio después de la coma, no antes&lt;/code&gt;
</code></pre>
<p>Usa un espacio delante del paréntesis izquierdo, salvo en llamadas a funciones.</p>
<p>BIEN: <code>if (debug)</code></p>
<p>MAL: <code>if(debug)</code></p>
<p>El espacio adicional en una línea (más de uno en una fila) es permisible si mejora la alineación del código.</p>
<pre><code>&lt;code&gt;plot(x    = xCoord,
     y    = dataMat[, makeColName(metric, ptiles[1], &quot;roiOpt&quot;)],
     ylim = ylim,
     xlab = &quot;dates&quot;,
     ylab = metric,
     main = (paste(metric, &quot; for 3 samples &quot;, sep=&quot;&quot;)))
&lt;/code&gt;
</code></pre>
<p>No usar espacios alrededor de código en paréntesis o corchetes.</p>
<p>_ Excepción: Usar espacio siempre antes de una coma._</p>
<p>BIEN:</p>
<pre><code>&lt;code&gt;if (debug)
x[1, ]&lt;/code&gt;
</code></pre>
<p>MAL:</p>
<pre><code>&lt;code&gt;&lt;span style=&quot;color: red;&quot;&gt;if ( debug )  # No hay que colocar espacios alrededor de &quot;debug&quot;
x[1,]  # Hace falta un espacio tras la coma&lt;/code&gt;



    *
</code></pre>
<p>**Llaves. **Una llave nunca se abre en una línea nueva; sin embargo, siempre se cierran en una línea nueva.Las llaves pueden omitirse cuando encierren una única expresión; sin embargo, esta regla debe seguirse de manera <em>consistente</em>.</p>
<pre><code>&lt;code&gt;
if (is.null(ylim)) {
  ylim &lt;- c(0, 0.06)
}&lt;/code&gt;
</code></pre>
<p>xor (no los dos a la vez)</p>
<pre><code>&lt;code&gt;
if (is.null(ylim))
  ylim &lt;- c(0, 0.06)&lt;/code&gt;
</code></pre>
<p>Hay que comenzar el cuerpo de un nuevo bloque en una línea nueva.</p>
<p>MAL:</p>
<p><code> if (is.null(ylim)) ylim &lt;- c(0, 0.06)</code></p>
<p><code>if (is.null(ylim)) {ylim &lt;- c(0, 0.06)}</code>
*</p>
<p>**Asignaciones. **Usar <code>&lt;-</code>, no <code>=</code>, para realizar asignaciones.</p>
<p>BIEN: <code>x &lt;- 5</code>
MAL: <code> x = 5</code>
*</p>
<p>**Puntos y comas. **No terminar las líneas con puntos y comas. No utilizar puntos y comas para escribir más de una expresión en la misma línea. Nótese que los puntos y comas no son necesarios y que se omiten por consistencia con otras guías de estilo de Google.</p>
<pre><code>  3. **Organización**

    *
</code></pre>
<p>**Distribución general y organización. **Si todos siguen los mismos proncipios, podremos leer y entender el código de los demás más rápidamente.</p>
<pre><code>      1. Copyright
      2. Autor
      3. Descripción del fichero, incluyendo la finalidad del programa, sus entradas y sus salidas
      4. Comandos `source()` y `library()`
      5. Definición de las funciones
      6. Resto del código, si es aplicable (p.e., ` print`, `plot`)
</code></pre>
<p>Los tests unitarios deberían incluirse en un fichero aparte llamado <code>originalfilename_unittest.R</code>.
*</p>
<p>**Comentarios. **Usa comentarios en el código. Las líneas que consistan en comentarios deben comenzar por <code>#</code> seguido de un espacio.Los comentarios breves pueden ubicarse tras el código, separados de éste por dos espacios, un <code>#</code> y un espacio más.</p>
<pre><code>&lt;code&gt;# Crear histograma de frecuencias de campañas según porcentaje del presupuesto
hist(df$pctSpent,
     breaks = &quot;scott&quot;,  # método para elegir el número de buckets
     main   = &quot;Histogram: fraction budget spent by campaignid&quot;,
     xlab   = &quot;Fraction of budget spent&quot;,
     ylab   = &quot;Frequency (count of campaignids)&quot;)
&lt;/code&gt;



    *
</code></pre>
<p>**Funciones: definiciones y llamadas. **La definición de las funciones debe contener primero los argumentos sin valores por defecto.</p>
<p>En la definición y llamadas a funciones se permiten múltiples argumentos por línea. Las nuevas líneas sólo deben separar asignaciones.
BIEN:</p>
<pre><code>&lt;code&gt;PredictCTR &lt;- function(query, property, numDays,
                       showPlot = TRUE)
&lt;/code&gt;
</code></pre>
<p>MAL:</p>
<pre><code>&lt;code&gt;&lt;span style=&quot;color: red;&quot;&gt;PredictCTR &lt;- function(query, property, numDays, showPlot =
                       TRUE)
&lt;/code&gt;
</code></pre>
<p>Idealmente, las pruebas unitarias deberían servir como ejemplo de llamadas a funciones (para rutinas de librerías compartidas).
*</p>
<p>**Documentación de funciones. **Las funciones deberían tener una sección de comentarios inmediatamente debajo de la línea de definición de la función. Tales comentarios deberían consistir en una frase que definiese la función, una lista de los argumentos de la función precedida por <code>Args:</code> con una descripción de cada uno de ellos, incluido su tipo y una descripción del valor devuelto por la función precedido por <code>Returns:</code>. Los comentarios deberían ser lo suficientemente descriptivos como para que un usuario pudiera utilizar la función sin tener que leer su código.</p>
<pre><code>    *
</code></pre>
<p><strong>Ejemplo de función</strong></p>
<pre><code>&lt;code&gt;
CalculateSampleCovariance &lt;- function(x, y, verbose = TRUE) {
  # Computes the sample covariance between two vectors.
  #
  # Args:
  #   x: One of two vectors whose sample covariance is to be calculated.
  #   y: The other vector. x and y must have the same length, greater than one,
  #      with no missing values.
  #   verbose: If TRUE, prints sample covariance; if not, not. Default is TRUE.
  #
  # Returns:
  #   The sample covariance between x and y.
  n &lt;- length(x)
  # Error handling
  if (n &lt;= 1 || n != length(y)) {
    stop(&quot;Arguments x and y have invalid lengths: &quot;,
         length(x), &quot; and &quot;, length(y), &quot;.&quot;)
  }
  if (TRUE %in% is.na(x) || TRUE %in% is.na(y)) {
    stop(&quot; Arguments x and y must not have missing values.&quot;)
  }
  covariance &lt;- var(x, y)
  if (verbose)
    cat(&quot;Covariance = &quot;, round(covariance, 4), &quot;.\n&quot;, sep = &quot;&quot;)
  return(covariance)
}
&lt;/code&gt;



    *
</code></pre>
<p>**Estilo para los TODO. **Usa un estilo consistente para los TODO en el código.</p>
<p><code>TODO(username): Descripción de lo que tiene que hacerse</code></p>
<pre><code>  4. **Lenguaje**

    *
</code></pre>
<p>**Attach. **El uso de <code>attach</code> puede producir muchos errores. Evítalo.</p>
<pre><code>    *
</code></pre>
<p>**Funciones. **Usar <code>stop()</code> para lanzar mensajes de error.</p>
<pre><code>    *
</code></pre>
<p>**Objetos y médotos. **El lenguaje S tiene dos tipos de sistemas de clases, S3 y S4, disponibles en R. Los métodos S3 son más interactivos y flexibles, mientras que los S4 son más formales y rigurosos.</p>
<p>(Para una ilustración de los dos sistemas, véase &ldquo;Programmer&rsquo;s Niche: A Simple Class, in S3 and S4&rdquo; in R News 4/1, 2004, pgs. 33 - 36:<a href="http://cran.r-project.org/doc/Rnews/Rnews_2004-1.pdf">
http://cran.r-project.org/doc/Rnews/Rnews_2004-1.pdf</a> por Thomas Lumley.)</p>
<p>Usa objetos y objetos S3 a no ser que exista una razón poderosa para usar los del tipo S4.
Una justificación para usar objetos S4 sería la de poder manipularlos directamente desde C++.
Para usar métodos S4, sería poder despachar en función de dos argumentos.</p>
<p>Evita mezclar métodos S3 y S4: los métodos S4 ignoran la herencia de los S3 y a la inversa.</p>
<pre><code>  5. **Excepciones. **Las convenciones expresadas más arriba deberían ser seguidas de no haber un buen motivo para seguir otro criterio: por ejemplo, al usar código antiguo o de terceras partes.
  6. **Consideraciones finales**
</code></pre>
<p>Usa el sentido común y SÉ CONSISTENTE.</p>
<p>Si estás editando código, tómate unos minutos para mirar alrededor y determinar cuál es el estilo del código. Si los autores originales usaban espacios alrededor de sus comandos <code>if </code>, deberías hacerlo tambén.</p>
<p>Si sus comentarios tienen cajas o estrellas alrededor, úsalas también.</p>
<p>El objetivo de tener un código de estilo es el usar un vocabulario común para poder concentrarse en lo que estás diciendo más que en cómo lo estás diciendo.
Al presentar unas reglas globales de estilo intentamos que se use un vocabulario común. Pero el estilo local es importante. Si el código que añades a un fichero sigue una convención distinta, la discontinuidad provocará el rechazo de quienes lo hereden. Trata de evitar eso.</p>
<p>Bien, y una vez finalizada la tarea sobre cómo escribir código, podemos comenzar a escribirlo, que es mucho más interesante. ¡Disfrutémoslo!
7. <strong>Referencias</strong></p>
<p><a href="http://www.maths.lth.se/help/R/RCC/">R Coding Conventions</a>
<a href="http://ess.r-project.org/">Para usuarios de emacs</a>
<a href="https://google.github.io/styleguide/Rguide.xml">Guía de estilo de R de Google</a> (en inglés)
8. <strong>Notas</strong></p>
<p>Esta guía de estilo de R es una traducción literal de <a href="http://google-styleguide.googlecode.com/svn/trunk/google-r-style.html">la de Google</a> que he tomado la libertad de traducir para referencia y discusión propia y ajena. Datanalytics se hace responsable de todos los errores de traducción. Por otra parte, no se arroga (explícita o implícitamente) ningún tipo de derecho de copiright, autoría o similares: todos pertenecen a Google.</p>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/estilo/" rel="tag">estilo</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/programaci%C3%B3n/" rel="tag">programación</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/r/" rel="tag">r</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/2014/01/24/como-no-restar-numeros-fuzzy/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Anterior</span>
			<p class="pager__title">Cómo no restar números fuzzy</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/2014/01/28/algunos-problemas-de-la-regresion-paso-a-paso-stepwise/" rel="next">
			<span class="pager__subtitle">Siguiente&thinsp;»</span>
			<p class="pager__title">Algunos problemas de la regresión paso a paso (&#34;stepwise&#34;)</p>
		</a>
	</div>
</nav>


			</div>
			<aside class="sidebar">
<div class="widget-recent widget">
	<h4 class="widget__title">Más Recientes</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/2021/12/09/mas-sobre-exceso-mortalidad-noviembre-2021/">Sobre el exceso de mortalidad en noviembre de 2021</a></li>
			<li class="widget__item"><a class="widget__link" href="/2021/12/09/mas-sobre-la-estimacion-de-probabilidades-de-eventos-que-no-se-repiten/">Más sobre la estimación de probabilidades de eventos que no se repiten</a></li>
			<li class="widget__item"><a class="widget__link" href="/2021/12/07/estadistica-vs-siquiatria-la-aparente-contradiccion-la-profunda-sintesis/">Estadística vs siquiatría: la aparente contradicción, la profunda síntesis</a></li>
			<li class="widget__item"><a class="widget__link" href="/2021/12/02/por-que-cabe-argumentar-que-estos-resultados-infraestiman-la-efectividad-de-las-vacunas-contra-el-covid/">¿Por qué cabe argumentar que estos resultados infraestiman la efectividad de las vacunas contra el covid?</a></li>
			<li class="widget__item"><a class="widget__link" href="/2021/11/25/un-episodio-relevante-para-estas-paginas-extraido-de-un-espia-perfecto/">Un episodio relevante para estas páginas extraído de &#34;Un espía perfecto&#34;</a></li>
		</ul>
	</div>
</div>
</aside>
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2021 datanalytics.
      
		</div>
	</div>
</footer>

	</div>
<script async defer src="/js/menu.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({ tex2jax: {inlineMath: [["$","$"], ["$latex", "$"],["\\(","\\)"]]} })
</script>

</body>
</html>