<!DOCTYPE html>
<html class="no-js" lang="es">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Memoria de decaimiento exponencial y canutos asíncronos - datanalytics</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Memoria de decaimiento exponencial y canutos asíncronos" />
<meta property="og:description" content="Primero, canuto es como llamo yo a los streams: lugares por donde nos llegan datos —de sujetos que sacan dinero del cajero, de sensores de lo que sea, de clientes que llaman por teléfono—, típicamente en forma asíncrona. Es decir, que los eventos suceden cuando se les antoja, sin una periodicidad preestablecida.
Y uno quiere medir cosas. Por ejemplo, la frecuencia. O la intensidad de uso —¿cuánto se utiliza una tarjeta de crédito?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/2014/02/14/memoria-de-decaimiento-exponencial-y-canutos-asincronos/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-02-14T07:32:10&#43;00:00" />
<meta property="article:modified_time" content="2014-02-14T07:32:10&#43;00:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alegreya:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="datanalytics" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">datanalytics</div>
					<div class="logo__tagline">Estadística y análisis de datos</div>
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Memoria de decaimiento exponencial y canutos asíncronos</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2014-02-14T07:32:10Z">2014-2-14</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/consultor%C3%ADa/" rel="category">consultoría</a>, <a class="meta__link" href="/categories/estad%C3%ADstica/" rel="category">estadística</a>
	</span>
</div></div>
		</header>
		<div class="content post__content clearfix">
			<p>Primero, canuto es como llamo yo a los <em>streams</em>: lugares por donde nos llegan datos —de sujetos que sacan dinero del cajero, de sensores de lo que sea, de clientes que llaman por teléfono—, típicamente en forma asíncrona. Es decir, que los eventos suceden cuando se les antoja, sin una periodicidad preestablecida.</p>
<p>Y uno quiere medir cosas. Por ejemplo, la frecuencia. O la intensidad de uso —¿cuánto se utiliza una tarjeta de crédito?—. Son estos fines para los que la gente todavía utiliza técnicas mandadas a recoger. Y ni siquiera. Podría contar la anécdota de un muy desavisado —por no decir cosas peores— que trabajaba conmigo no hace tanto. Se ufanaba de que tirando de su mucho ingenio y utilizando tecnologías punterísimas era capaz de asociar a cada sujeto de nuestra base de datos la serie temporal de sus actividades (asíncronas) durante los últimos meses. Y la verdad, a fuerza de tesón, lo consiguió durante un fin de semana en el que, me da la sensación, durmió poco. Llegó la reunión del lunes y nos contó con prolijidad de detalles sus muchos méritos y logros. Pero entonces se encogió un poco, se desinchó un mucho y preguntó con mucha humildad: _y ahora que tengo todo esto, ¿qué más puedo hacer? _(entiéndase: para realizar un análisis estadístico del comportamiento de los sujetos).</p>
<p>Efectivamente, se necesitan medidas sintéticas de series temporales —las escupa en tiempo real un canuto o estén convenientemente listadas en una tabla— que recojan características útiles para la modelación. Típicamente la frecuencia y la intensidad.</p>
<p>Una familia de medidas habituales —y que me resultan antipáticas— son las de los promedios temporales (en horas, meses, años). Si los sucesos asociados a un sujeto son $latex (a_0,t_0),\dots,(a_n,t_n)$ la gente todavía recurre casi siempre a medidas de la frecuencia del tipo</p>
<p>$latex \sum_{t_i\in (t-T,t)} 1$</p>
<p>(donde $latex t$ significa ahora) y para la intensidad</p>
<p>$latex \sum_{t_i\in (t-T,t)} a_i$</p>
<p>La combinación de varios valores de $latex T$ permite construir simultáneamente, por ejemplo, medidas mensuales y trimestrales. Y hacer cosas como restarlas (convenientemente normalizadas) para intuir tendencias.</p>
<p>Esta aproximación equivale al uso en las fórmulas anteriores de una función de memoria (o <em>cutoff</em>) de tipo escalón: se recuerda todo tal cual hasta el tiempo $latex T$ y se olvida por completo a partir de entonces. Y presenta ciertas complicaciones. La primera de ellas es que es computacionalmente engorrosa. Además, que obliga a guardar el histórico de eventos completo.</p>
<p>La alternativa —¡que a ver si tienen a bien dejarme utilizar algún día en algún lado!— es utilizar una función de memoria exponencial. Es decir, una medida de la frecuencia de la forma</p>
<p>$latex \sum_i \exp(-t_i \alpha)$</p>
<p>para un cierto valor de $latex \alpha$ y de la intensidad tal como</p>
<p>$latex \sum_i a_i \exp(-t_i \alpha).$</p>
<p>Es decir, sometiendo a las observaciones a un decaimiento que depende del tiempo.</p>
<p>¿Qué ventajas tiene este procedimiento? Por ejemplo, computacionales. El indicador se actualiza sin necesidad de guardar un histórico. Basta con contar con el último valor, $latex a$ y su data, $latex t_a$. El valor actualizado ahora mismo, en $latex t$, es $latex a\exp(-\alpha(t - t_a))$. ¡Solo hacen falta dos números para almacenar (lo relevante de) la serie! ¡Y se puede conocer el valor del indicador en tiempo rabiosamente real!</p>
<p>Combinando un par de valores de $latex \alpha$, que mide la velocidad del olvido, pueden también intuirse tendencias (p.e., si la frecuencia tiende a crecer).</p>
<p>Finalmente, este procedimiento tiene la ventaja de dar más peso a observaciones recientes que a pasadas: no es lo mismo que aquellas sucedan hace casi un año (para medias anuales) que hayan sucedido recientemente. Las funciones de memoria escalonadas pierden el matiz.</p>
<p>En general, no le veo desventajas a usar técnicas de decaimiento exponencial. Salvo que molestan a los del <em>que inventen ellos</em>, claro.</p>
<p>Y termino con un par de notas:</p>
<pre><code>  * Los economistas (y más gente, claro) usan una técnica parecida con las series temporales: el [alisado exponencial](http://en.wikipedia.org/wiki/Exponential_smoothing). No es lo mismo (promedian más que suman; los datos son periódicos y no asíncronos) pero guardan una similitud notable.
  * Que lo que cuento aquí no me lo he inventado esta tarde según venía a casa. Es muy conocido y está publicadísimo por doquier. Buscad &quot;exponential memory decay streaming&quot; en Google y lo veréis.
</code></pre>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/decaimiento-exponencial/" rel="tag">decaimiento exponencial</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/frecuencia/" rel="tag">frecuencia</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/recencia/" rel="tag">recencia</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/2014/02/13/mi-solucion-al-otro-problema-del-cumpleanos/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Anterior</span>
			<p class="pager__title">Mi solución al otro problema del cumpleaños</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/2014/02/17/donde-estoy-donde-estare/" rel="next">
			<span class="pager__subtitle">Siguiente&thinsp;»</span>
			<p class="pager__title">¿Dónde estoy? ¿Dónde estaré?</p>
		</a>
	</div>
</nav>


			</div>
			<aside class="sidebar">
<div class="widget-recent widget">
	<h4 class="widget__title">Más Recientes</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/2021/12/09/mas-sobre-exceso-mortalidad-noviembre-2021/">Sobre el exceso de mortalidad en noviembre de 2021</a></li>
			<li class="widget__item"><a class="widget__link" href="/2021/12/09/mas-sobre-la-estimacion-de-probabilidades-de-eventos-que-no-se-repiten/">Más sobre la estimación de probabilidades de eventos que no se repiten</a></li>
			<li class="widget__item"><a class="widget__link" href="/2021/12/07/estadistica-vs-siquiatria-la-aparente-contradiccion-la-profunda-sintesis/">Estadística vs siquiatría: la aparente contradicción, la profunda síntesis</a></li>
			<li class="widget__item"><a class="widget__link" href="/2021/12/02/por-que-cabe-argumentar-que-estos-resultados-infraestiman-la-efectividad-de-las-vacunas-contra-el-covid/">¿Por qué cabe argumentar que estos resultados infraestiman la efectividad de las vacunas contra el covid?</a></li>
			<li class="widget__item"><a class="widget__link" href="/2021/11/25/un-episodio-relevante-para-estas-paginas-extraido-de-un-espia-perfecto/">Un episodio relevante para estas páginas extraído de &#34;Un espía perfecto&#34;</a></li>
		</ul>
	</div>
</div>
</aside>
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2021 datanalytics.
      
		</div>
	</div>
</footer>

	</div>
<script async defer src="/js/menu.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({ tex2jax: {inlineMath: [["$","$"], ["$latex", "$"],["\\(","\\)"]]} })
</script>

</body>
</html>