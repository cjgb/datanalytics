<!DOCTYPE html>
<html class="no-js" lang="es">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Restauración de ficheros .bak sin Windows - datanalytics</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Restauración de ficheros .bak sin Windows" />
<meta property="og:description" content="Tengo un fichero .bak. Un fichero .bak (el mío, al menos) es una copia de seguridad de SQL Server y no hay forma humana de acceder a sus contenidos sin otro SQL Server (que yo sepa). No me preguntéis de dónde lo he sacado. La cuestión es que contiene datos que tengo que leer.
Requisito imprescindible para tener un SQL Server es disponer de una máquina con Windows. Pero yo no tengo ninguna." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/2015/04/10/restauracion-de-ficheros-bak-sin-windows/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2015-04-10T08:13:51&#43;00:00" />
<meta property="article:modified_time" content="2015-04-10T08:13:51&#43;00:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alegreya:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="datanalytics" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">datanalytics</div>
					<div class="logo__tagline">Estadística y análisis de datos</div>
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Restauración de ficheros .bak sin Windows</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2015-04-10T08:13:51Z">2015-4-10</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/computaci%C3%B3n/" rel="category">computación</a>
	</span>
</div></div>
		</header>
		<div class="content post__content clearfix">
			<p>Tengo un fichero <code>.bak</code>. Un fichero <code>.bak</code> (el mío, al menos) es una copia de seguridad de SQL Server y no hay forma humana de acceder a sus contenidos sin otro SQL Server (que yo sepa). No me preguntéis de dónde lo he sacado. La cuestión es que contiene datos que tengo que leer.</p>
<p>Requisito imprescindible para tener un SQL Server es disponer de una máquina con Windows. Pero yo no tengo ninguna. Cuando tuve, instalé la versión de evaluación gratuita de SQL Server (¿Express?) y me ahorré parte de la pena que describo a continuación. Lo hago por referencia mía, por referencia de otros y por si alguien conoce algún atajo.</p>
<p>No poseyéndolo, lo alquilé (en Amazon). No es complicado dar con <a href="http://aws.amazon.com/es/windows/products/sql/">instancias con Windows + SQL Server</a>. Elegí la más barata y me encomendé al diablo.</p>
<p>Antes de ello hay que generar un <em>Key Pair</em>. Para los efectos es un fichero que uno se descarga y guarda con cuidado. Al lanzar la instancia hay que asociarla a dicho par.</p>
<p>Una vez lanzada la instancia (tal cual se ve en el panel de control de Amazon, sección Instancias), hay que conectarse a ella para lo cual hay que pulsar con el botón derecho del ratón sobre la instancia y hacer lo que las secciones <em>Get Windows Password</em> (allí te servirá el par creado antes) y <em>Connect</em> dan a entender.</p>
<p>IP, usuario y contraseña (que acabamos de obtener) te valdrán de bien poco si la instancia está en modo paranoico (i.e., si no admite conexiones externas). Tendrás que ir a <em>Security Groups</em> (última columna de la pestaña de instancias) dar acceso de entrada (<em>inbound</em>) vía RDP (<em>remote desktop protocol</em>) cuando menos a tu IP externa.</p>
<p>(Nota: RDP es <a href="http://en.wikipedia.org/wiki/Remote_Desktop_Protocol">esta basura</a>).</p>
<p>¿Cómo me conecto desde mi Linux vía RDP? Solo me ha funcionado <code>rdesktop</code> (ya sabes: <code>sudo apt-get install rdesktop</code>). El comando, para referencia propia,</p>
<p><code>rdesktop -u usuario -p 'contraseña' -g 90% 12.34.56.78</code></p>
<p>La opción <code>-g 90%</code> me proporciona una ventana de tamaño generoso. Muy útil para manejarse por los menús inútilmente táctiles del sistema operativo remoto.</p>
<p>Hay que subir el fichero <code>.bak</code> a Amazon. Habrá mecanismos mejorables, pero me he decantado por bajarlo de Dropbox. Paso configurar ftp en Windows.</p>
<p>El programa que tienes que abrir en Windows es el que tiene como logotipo un cilindro amarillo, una llave inglesa y un martillo (también llamado SQL Server Management Studio). Hay tutoriales que indican <a href="https://msdn.microsoft.com/en-us/library/ms177429(SQL.90).aspx">cómo importar un fichero <code>.bak</code></a> y estoy justo en estos momentos tratando de exportar la base de datos (no es tan grande) a Excel usando el asistente de exportación.</p>
<p>Cuando termine veré (¿vía Dropbox de nuevo?) cómo bajo los datos.</p>
<p><strong>Nota:</strong> hay que bajar las tablas (a <code>.csv</code>) una a una. Podrías bajarlas a Excel siempre que el número de las filas de las tablas no pase de 64k.</p>
<p>En fin, tal es mi tortura del día.</p>
<p><strong>Otra nota:</strong> también podría abrir un puerto para conectarme con SQL Server desde mi máquina local vía ODBC y exportar las tablas a R directamente. Sin embargo, una vez, ya tuve ocasión de desesperarme para dar acceso a SQL Server en local. Con máquinas en modo paranoico, de nuevo, paso.</p>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/amazon/" rel="tag">amazon</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/ec2/" rel="tag">ec2</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/sql/" rel="tag">sql</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/sql-server/" rel="tag">sql server</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/2015/04/08/adaequatio-rei-et-intellectus/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Anterior</span>
			<p class="pager__title">Adaequatio rei et intellectus</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/2015/04/13/las-vii-jornadas-de-usuarios-de-r-en-salamanca-este-noviembre/" rel="next">
			<span class="pager__subtitle">Siguiente&thinsp;»</span>
			<p class="pager__title">Las VII Jornadas de Usuarios de R, en Salamanca este noviembre</p>
		</a>
	</div>
</nav>


			</div>
			<aside class="sidebar">
<div class="widget-recent widget">
	<h4 class="widget__title">Más Recientes</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/2021/12/09/mas-sobre-exceso-mortalidad-noviembre-2021/">Sobre el exceso de mortalidad en noviembre de 2021</a></li>
			<li class="widget__item"><a class="widget__link" href="/2021/12/09/mas-sobre-la-estimacion-de-probabilidades-de-eventos-que-no-se-repiten/">Más sobre la estimación de probabilidades de eventos que no se repiten</a></li>
			<li class="widget__item"><a class="widget__link" href="/2021/12/07/estadistica-vs-siquiatria-la-aparente-contradiccion-la-profunda-sintesis/">Estadística vs siquiatría: la aparente contradicción, la profunda síntesis</a></li>
			<li class="widget__item"><a class="widget__link" href="/2021/12/02/por-que-cabe-argumentar-que-estos-resultados-infraestiman-la-efectividad-de-las-vacunas-contra-el-covid/">¿Por qué cabe argumentar que estos resultados infraestiman la efectividad de las vacunas contra el covid?</a></li>
			<li class="widget__item"><a class="widget__link" href="/2021/11/25/un-episodio-relevante-para-estas-paginas-extraido-de-un-espia-perfecto/">Un episodio relevante para estas páginas extraído de &#34;Un espía perfecto&#34;</a></li>
		</ul>
	</div>
</div>
</aside>
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2021 datanalytics.
      
		</div>
	</div>
</footer>

	</div>
<script async defer src="/js/menu.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({ tex2jax: {inlineMath: [["$","$"], ["$latex", "$"],["\\(","\\)"]]} })
</script>

</body>
</html>