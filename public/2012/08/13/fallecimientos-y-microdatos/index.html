<!DOCTYPE html>
<html class="no-js" lang="es">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Fallecimientos y microdatos - datanalytics</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Fallecimientos y microdatos" />
<meta property="og:description" content="Hace un tiempo, un amigo me dijo que si en verano tiende a crecer la tasa de fallecimientos. Como de eso no sé y no hay manera de preguntarle a Google cuándo se muere más la gente, acudí a quienes se encargan de recopilar ese tipo de datos. Y construí en relativamente poco rato un gráfico parecido a

que echaba por tierra su hipótesis.
Ahora quiero retomar el asunto aprovechando que he anunciado el paquete MicroDatosEs para indicar cómo se pueden crear los tres ficheros de metadatos necesarios para leer ficheros de microdatos." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/2012/08/13/fallecimientos-y-microdatos/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2012-08-13T08:57:36&#43;00:00" />
<meta property="article:modified_time" content="2012-08-13T08:57:36&#43;00:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alegreya:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="datanalytics" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">datanalytics</div>
					<div class="logo__tagline">Estadística y análisis de datos</div>
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Fallecimientos y microdatos</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2012-08-13T08:57:36Z">2012-8-13</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/estad%C3%ADstica/" rel="category">estadística</a>, <a class="meta__link" href="/categories/n%C3%BAmeros/" rel="category">números</a>, <a class="meta__link" href="/categories/r/" rel="category">r</a>
	</span>
</div></div>
		</header>
		<div class="content post__content clearfix">
			<p>Hace un tiempo, un amigo me dijo que si en verano tiende a crecer la tasa de fallecimientos. Como de eso no sé y no hay manera de preguntarle a Google cuándo se muere más la gente, acudí a <a href="http://www.ine.es/prodyser/micro_mnp_defun.htm">quienes se encargan de recopilar ese tipo de datos</a>. Y construí en relativamente poco rato un gráfico parecido a</p>
<p><a href="http://www.datanalytics.com/wp-uploads/2012/08/fallecimientos_x_mes_2011.png"><img src="http://www.datanalytics.com/wp-uploads/2012/08/fallecimientos_x_mes_2011.png" alt="">
</a></p>
<p>que echaba por tierra su hipótesis.</p>
<p>Ahora quiero retomar el asunto aprovechando que he anunciado el <a href="http://www.datanalytics.com/blog/2012/08/03/el-paquete-microdataes-para-microdatos-publicos/">paquete MicroDatosEs</a> para indicar cómo se pueden crear los tres ficheros de metadatos necesarios para leer ficheros de microdatos. En concreto, ese tipo de <a href="http://publib.boulder.ibm.com/infocenter/dmndhelp/v6r1mx/index.jsp?topic=/com.ibm.wbit.610.help.config.doc/topics/rfixwidth.html">ficheros de microdatos posicionales</a> a los que tan aficionados son los institutos estadísticos españoles.</p>
<p>El <a href="https://r-forge.r-project.org/scm/viewvc.php/pkg/inst/metadata/defun_2011_mdat1.txt?view=markup&amp;revision=4&amp;root=microdataes">primero</a> tiene cinco columnas (separadas por tabuladores):</p>
<pre><code>  * `var`, el nombre de la variable
  * `start`, la posición en la que comienza el dato
  * `end`, la posición en la que termina
  * `width`, la anchura, que podría deducirse de los dos valores previos
  * `descr`, la descripción de la variable
</code></pre>
<p>El <a href="https://r-forge.r-project.org/scm/viewvc.php/pkg/inst/metadata/defun_2011_mdat2.txt?view=markup&amp;revision=4&amp;root=microdataes">segundo</a> es otro fichero de texto con cinco columnas también separadas por tabuladores:</p>
<pre><code>  * `var`, el nombre de la variable, que tiene que coincidir con el del fichero anterior, por supuesto
  * `tipo`, el tipo de variable
  * `nulo`, que no me acuerdo para qué lo creé y posiblemente no sirva para nada
  * `llave`, el código que asigna el INE (p.e., &quot;01&quot;)
  * `valor`, el valor que corresponde al código (p.e., &quot;mujer&quot;)
</code></pre>
<p>Los campos de tipo &ldquo;N&rdquo;, numérico, no tienen ni llave ni valor. Los campos con llave y valor son de tipo &ldquo;D&rdquo;, de diccionario. Es probable que haya más tipos contemplados y que hagan falta otros más en función del caso. Pero no me acuerdo bien de los detalles.</p>
<p>Finalmente, el <a href="https://r-forge.r-project.org/scm/viewvc.php/pkg/inst/metadata/defun_2011_mdat3.txt?view=markup&amp;revision=4&amp;root=microdataes">tercer fichero</a> de metadatos no se usa realmente. Sirve para indicar qué valores corresponden a nulos en cada una de las columnas del fichero de metadatos y tiene <em>sintaxis SPSS</em>, cosa que aún no me queda claro qué es. Tengo que ponerme con ello todavía.</p>
<p>Una vez que construyes tus ficheros de metadatos puedes probarlos con la función <a href="https://r-forge.r-project.org/scm/viewvc.php/pkg/R/test.metadata.R?view=markup&amp;root=microdataes"><code>test.metadata</code></a> (véase también <code>?test.metadata</code>) para verificar que funcionan adecuadamente.</p>
<p>Y una vez que funcionan, si eres yo, los puedes integrar en el paquete creando una función tal como <a href="https://r-forge.r-project.org/scm/viewvc.php/pkg/R/defun2011.R?view=markup&amp;root=microdataes"><code>defun2011</code></a> y su correspondiente <a href="https://r-forge.r-project.org/scm/viewvc.php/pkg/man/defun2011.Rd?view=markup&amp;root=microdataes">fichero de ayuda</a>. Si no eres yo, puedes ponerte en contacto conmigo, enviarme los ficheros de microdatos y los integraría en el paquete con mucho gusto y respetando <em>atribucionalmente</em> tu autoría.</p>
<p>En tanto, ¿algún lector se anima a <em>partir</em> el gráfico que he mostrado más arriba por grupos de edad?</p>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/datos-abiertos/" rel="tag">datos abiertos</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/ine/" rel="tag">ine</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/microdatoses/" rel="tag">microdatoses</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/r/" rel="tag">r</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/2012/08/10/vehiculos-electricos/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Anterior</span>
			<p class="pager__title">Vehículos eléctricos, ¿competitivos?</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/2012/08/14/incendios-en-espana/" rel="next">
			<span class="pager__subtitle">Siguiente&thinsp;»</span>
			<p class="pager__title">Incendios en España</p>
		</a>
	</div>
</nav>


			</div>
			<aside class="sidebar">
<div class="widget-recent widget">
	<h4 class="widget__title">Más Recientes</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/2021/12/09/mas-sobre-exceso-mortalidad-noviembre-2021/">Sobre el exceso de mortalidad en noviembre de 2021</a></li>
			<li class="widget__item"><a class="widget__link" href="/2021/12/09/mas-sobre-la-estimacion-de-probabilidades-de-eventos-que-no-se-repiten/">Más sobre la estimación de probabilidades de eventos que no se repiten</a></li>
			<li class="widget__item"><a class="widget__link" href="/2021/12/07/estadistica-vs-siquiatria-la-aparente-contradiccion-la-profunda-sintesis/">Estadística vs siquiatría: la aparente contradicción, la profunda síntesis</a></li>
			<li class="widget__item"><a class="widget__link" href="/2021/12/02/por-que-cabe-argumentar-que-estos-resultados-infraestiman-la-efectividad-de-las-vacunas-contra-el-covid/">¿Por qué cabe argumentar que estos resultados infraestiman la efectividad de las vacunas contra el covid?</a></li>
			<li class="widget__item"><a class="widget__link" href="/2021/11/25/un-episodio-relevante-para-estas-paginas-extraido-de-un-espia-perfecto/">Un episodio relevante para estas páginas extraído de &#34;Un espía perfecto&#34;</a></li>
		</ul>
	</div>
</div>
</aside>
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2021 datanalytics.
      
		</div>
	</div>
</footer>

	</div>
<script async defer src="/js/menu.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({ tex2jax: {inlineMath: [["$","$"], ["$latex", "$"],["\\(","\\)"]]} })
</script>

</body>
</html>