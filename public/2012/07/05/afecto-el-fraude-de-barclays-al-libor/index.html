<!DOCTYPE html>
<html class="no-js" lang="es">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>¿Afectó el fraude de Barclays al Libor? - datanalytics</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="¿Afectó el fraude de Barclays al Libor?" />
<meta property="og:description" content="Después de la entrada de ayer y de

he decidido mirar a ver qué impacto puede haber tenido el fraude de Barclays, uno de los 16 bancos que aportan datos para calcular el índice, sobre su valor diario.
El procedimiento por el que se calcula el Libor lo describí ayer. Y también indiqué de dónde descargar los datos históricos que proporciona The Guardian. Así que puedo comenzar cargando los datos en R," />
<meta property="og:type" content="article" />
<meta property="og:url" content="/2012/07/05/afecto-el-fraude-de-barclays-al-libor/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2012-07-05T06:02:59&#43;00:00" />
<meta property="article:modified_time" content="2012-07-05T06:02:59&#43;00:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alegreya:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="datanalytics" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">datanalytics</div>
					<div class="logo__tagline">Estadística y análisis de datos</div>
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">¿Afectó el fraude de Barclays al Libor?</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2012-07-05T06:02:59Z">2012-7-5</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/finanzas/" rel="category">finanzas</a>, <a class="meta__link" href="/categories/r/" rel="category">r</a>
	</span>
</div></div>
		</header>
		<div class="content post__content clearfix">
			<p>Después de la <a href="http://www.datanalytics.com/blog/2012/07/04/libor-libor-fundeu-y-barclays-claro/">entrada de ayer</a> y de</p>
<p><a href="http://www.datanalytics.com/wp-uploads/2012/07/tuit_david_cabo.png"><img src="http://www.datanalytics.com/wp-uploads/2012/07/tuit_david_cabo.png" alt="">
</a></p>
<p>he decidido mirar a ver qué impacto puede haber tenido el fraude de Barclays, uno de los 16 bancos que aportan datos para calcular el índice, sobre su valor diario.</p>
<p>El procedimiento por el que se calcula el Libor lo describí ayer. Y también indiqué de dónde descargar los datos históricos que proporciona The Guardian. Así que puedo comenzar cargando los datos en R,</p>
<pre><code>raw &lt;- &lt;a href=&quot;http://inside-r.org/r-doc/utils/read.csv&quot;&gt;read.csv( &quot;LIBOR Combined - USD - Sheet 1.csv&quot; )

dat &lt;- raw[,c(1,2,8)]
names(dat) &lt;- c(&quot;bank&quot;, &quot;date&quot;, &quot;Libor3M&quot; )
dat$date &lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/as.Date&quot;&gt;as.Date( as.character(dat$date), &quot;%d/%m/%Y&quot; )

&lt;a href=&quot;http://inside-r.org/r-doc/utils/fix&quot;&gt;fix &lt;- subset( dat, bank == &quot;FIX - USD&quot;)
banks &lt;- subset( dat, bank != &quot;FIX - USD&quot;)
</code></pre>
<p>para obtener dos conjuntos de datos: <code>fix</code>, con el Libor a 3 meses publicado por fecha y <code>banks</code>, con el Libor a 3 meses comunicado por cada una de las entidades.</p>
<p>Con</p>
<pre><code>my.fix &lt;- tapply( banks$Libor3M, banks$date, mean, trim = 0.25 )
max( abs( &lt;a href=&quot;http://inside-r.org/r-doc/utils/fix&quot;&gt;fix$Libor3M - my.fix ) )
# 0.00125
</code></pre>
<p>compruebo que el <em>fix</em> (el Libor a 3 meses) que calculo a partir de los datos de las entidades usando una media recortada (igual que hace Reuters) efectivamente coincide con el Libor publicado: la diferencia máxima es del 10 % de un punto básico (y es prácticamente 0 a todos los efectos en el 99 % de los casos). Así que puedo dar por bueno mi método.</p>
<p>Así se puede medir el error que se cometería al utilizar información falseada:</p>
<pre><code>ubi.barclays &lt;- which( banks$bank == &quot;Barclays&quot; )

deltas &lt;- sample( c(0.1, -0.1), length(ubi.barclays), replace = T )

bad.fix &lt;- function( deltas ){
	b &lt;- banks
	b[ ubi.barclays,]$Libor3M &lt;- b[ ubi.barclays, ]$Libor3M + deltas
	my.bad.fix &lt;- tapply( b$Libor3M, b$date, mean, trim = 0.25 )
	my.fix     &lt;- tapply( banks$Libor3M, banks$date, mean, trim = 0.25 )
	quantile( abs( my.fix - my.bad.fix ), c(0.9, 0.95, 0.99, 0.995, 0.999,1))
}
print( bad.fix( deltas ) )
#     90%      95%      99%    99.5%    99.9%     100%
#0.001250 0.002500 0.006250 0.007275 0.010000 0.012500
</code></pre>
<p>En este ejercicio he creado una perturbación aleatoria según la cual Barclays habría incrementado o decrementado el Libor comunicado en diez puntos básicos (aleatoriamente). Dentro de los 4 años para los que hay datos (1037 registros), en uno se habría movido el Libor en más de un punto básico y en el 99.9 % de los días no se habría alterado en más de 0.7 puntos básicos.</p>
<p>Si Barclays hubiese alterado los datos en 20 puntos básicos (arriba o abajo), se habría obtenido</p>
<pre><code>deltas &lt;- sample( c(0.2, -0.2), length(ubi.barclays), replace = T )
print( bad.fix( deltas ) )
#     90%      95%      99%    99.5%    99.9%     100%
#0.002500 0.003750 0.006650 0.008525 0.012410 0.015000
</code></pre>
<p>Finalmente, distribuyendo la desviación uniformemente entre el -0.5 % y el -0.5 %, se obtendría</p>
<pre><code>deltas &lt;- runif( length(ubi.barclays) ) - 0.5
print( bad.fix( deltas ) )
#       90%        95%        99%      99.5%      99.9%       100%
#0.00187500 0.00312500 0.00887500 0.01401064 0.01875000 0.01875000
</code></pre>
<p>En lugar de simulaciones, es interesante también ver cuál habría sido la influencia máxima de Barclays en el valor final del Libor día a día. Haciendo</p>
<pre><code>b &lt;- banks
b[ ubi.barclays, ]$Libor3M &lt;- -100
my.min.fix &lt;- tapply( b$Libor3M, b$date, mean, trim = 0.25 )

b &lt;- banks
b[ ubi.barclays, ]$Libor3M &lt;- 100
my.max.fix &lt;- tapply( b$Libor3M, b$date, mean, trim = 0.25 )

hist( my.max.fix - my.min.fix )

range.pb &lt;- round( 100 * (my.max.fix - my.min.fix ))
table(range.pb)
#  0   1   2   3   4   5   6
#948  48  22  11   3   4   1
</code></pre>
<p>se aprecia cómo en 948 de los 1037 días no habría sido capaz de moverlo (en más de un punto básico) hiciese lo que hiciese y cómo sólo un día habría sido capaz de moverlo seis.</p>
<p>Gráficamente,</p>
<p><a href="http://www.datanalytics.com/wp-uploads/2012/07/barclays_libor_days.png"><img src="http://www.datanalytics.com/wp-uploads/2012/07/barclays_libor_days.png" alt="">
</a></p>
<p>Eso sí, casi todos esos días en los que tenía influencia correspondían al mismo periodo: finales de 2008.</p>
<p>¿Y cuánto afecta un punto básico a una persona <em>normal</em>? Erigiéndome en patrón de normalidad, he acudido a una <a href="http://www.euribor.com.es/calcular-hipoteca/">calculadora de hipotecas</a>, he introducido aproximadamente los datos de la mía y he calculado que cada punto básico de desviación (en este caso del Euribor, al que la tengo referenciada) me supone una variación de 42 céntimos de euro por mes.</p>
<p>Como diría un coadlátere, me lo puedo permitir. Eso sí, aprovecho para agradecer la labor callada de los supervisores y auditores por todas las catástrofes que han evitado y de las que no tenemos noticia por no haber ocurrido.</p>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/finanzas/" rel="tag">finanzas</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/libor/" rel="tag">libor</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/r/" rel="tag">r</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/2012/07/04/libor-libor-fundeu-y-barclays-claro/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Anterior</span>
			<p class="pager__title">Libor, líbor, Fundéu y Barclays, claro</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/2012/07/06/el-precio-de-la-desigualdad-i-e-el-boson-de-higgs-y-fracciones/" rel="next">
			<span class="pager__subtitle">Siguiente&thinsp;»</span>
			<p class="pager__title">El precio de la desigualdad (i.e., el bosón de Higgs y fracciones)</p>
		</a>
	</div>
</nav>


			</div>
			<aside class="sidebar">
<div class="widget-recent widget">
	<h4 class="widget__title">Más Recientes</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/2021/12/09/mas-sobre-exceso-mortalidad-noviembre-2021/">Sobre el exceso de mortalidad en noviembre de 2021</a></li>
			<li class="widget__item"><a class="widget__link" href="/2021/12/09/mas-sobre-la-estimacion-de-probabilidades-de-eventos-que-no-se-repiten/">Más sobre la estimación de probabilidades de eventos que no se repiten</a></li>
			<li class="widget__item"><a class="widget__link" href="/2021/12/07/estadistica-vs-siquiatria-la-aparente-contradiccion-la-profunda-sintesis/">Estadística vs siquiatría: la aparente contradicción, la profunda síntesis</a></li>
			<li class="widget__item"><a class="widget__link" href="/2021/12/02/por-que-cabe-argumentar-que-estos-resultados-infraestiman-la-efectividad-de-las-vacunas-contra-el-covid/">¿Por qué cabe argumentar que estos resultados infraestiman la efectividad de las vacunas contra el covid?</a></li>
			<li class="widget__item"><a class="widget__link" href="/2021/11/25/un-episodio-relevante-para-estas-paginas-extraido-de-un-espia-perfecto/">Un episodio relevante para estas páginas extraído de &#34;Un espía perfecto&#34;</a></li>
		</ul>
	</div>
</div>
</aside>
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2021 datanalytics.
      
		</div>
	</div>
</footer>

	</div>
<script async defer src="/js/menu.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({ tex2jax: {inlineMath: [["$","$"], ["$latex", "$"],["\\(","\\)"]]} })
</script>

</body>
</html>